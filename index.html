<!DOCTYPE html>
<html class="no-js">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <META HTTP-EQUIV="CACHE-CONTROL" CONTENT="NO-CACHE">

  <title>Home</title>
  <meta name="description" content="Simple Responsive Template is a template for responsive web design. Mobile first, responsive grid layout, toggle menu, navigation bar with unlimited drop downs, responsive slideshow">
  <meta name="keywords" content="">

  <!-- Mobile viewport -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=yes, minimal-ui">

  <!-- CSS-->
  <link href='css/google.css' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/basic-style1-5.css">

  <link rel="stylesheet" href="css/splash.css">
  <link rel="stylesheet" href="css/freelance.css">

  <!-- end CSS-->

  <!-- JS-->
  <script src="js/libs/modernizr-2.6.2.min.js"></script>
  <script src="js/plugins.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
  <!-- <script type="text/javascript" src="js/staticlogo.js"></script> -->
  <script src="js/galleria-1.5.1.min.js"></script>
  <!-- end JS-->


  <script src="js/modernizr.js"></script>
  <script>
  	//paste this code under head tag or in a seperate js file.
  	// Wait for window load
  	$(window).load(function() {
  		// Animate loader off screen
  		$(".se-pre-con").fadeOut("slow");
  $("#video_player").autoplay = true;
  	});
  </script>
  <script src="js/w3data.js"></script>
  <script>
  w3IncludeHTML();
  </script>


  </head>

  <body id="home">
  <div id="mysitelogo">
    <a href="https://dns2316.github.io/work-JS-speed-control/gallery" title=""><img src="images/about1.png" style="width:70px; height:47px; border:0" /></a>
  </div>
<!-- splash -->
  <!-- <div class="galleriaSplash galleriaHide"> -->
    <!-- <div class="galleria">
        <img src="portfolio_images/splash-1.jpg">
        <img src="portfolio_images/splash-3.jpg">
        <img src="portfolio_images/splash-bg.jpg">
    </div> -->
  <!-- </div> -->
<!-- end splash -->

    <div class="se-pre-con"></div>
    <div id="main" class="wrapper" style="box-shadow: 0px 0px 4px #CCC;">


    <!-- content area -->
    	<section id="content" class="wide-content">
        <div class="row">
          <div class="grid_12">
            <div class="vdvd" id="erMsg">

              <video id="video_player" width="100%" height="auto" autoplay muted loop onplaying="this.controls=false" webkit-playsinline playsinline>
              </video>
              <!-- cover -->
              <div class="cover">
                <p class="sep"></p>
                <h1></h1>
              </div>
              <!-- end cover -->
      <!-- </video>-->

              <div id="myModal" class="myModal">
                  <div class="modal-content"><span class="close" id="closeContacts" onclick="spanClose('myModal');">&times;</span>
                    <!-- <div id="thanks"><h1><b>Thanks for you message!</b></h1></div> -->
                    <form name="mail" action="/js/gdform.php" method="post">
                      <p>
                        lorem UK LTD<br> 12 lorem,<br>lorem,<br> London lorem,<br>United Kingdom<br><br>
                        <span id="contactEmails">
                          <a href="mailto:info@lorem.com" style="text-decoration: none;">Email: info@lorem.com</a><br>
                          <!-- <a href="mailto:joshua.grimstone@westbournecoms.com" style="color:#e22525;text-decoration: none;">Media Enquiries: joshua.grimstone@westbournecoms.com</a> -->
                        </span>
                      </p>
                      <br>
                      <input type="hidden" name="subject" value="Form Submission" />
                      <input type="hidden" name="redirect" value="https://dns2316.github.io/work-JS-speed-control/thanks.html" />
                      <p>First Name:<input type="text" name="FirstName" /></p>
                      <p>Last Name:<input type="text" name="LastName" /></p>
                      <p>E-Mail:<input type="text" name="email" placeholder="email@yahoo.com"/></p>
                      <p>Message:<textarea name="msg" placeholder="Type message here." cols="40" rows="10"></textarea>
                      <input id="btnMail" type="submit" name="submit" value="submit" />
                    </form>
                  </div>
              </div>

              <div id="aboutModal" class="aboutModal">
                  <div class="outAbout-content" id="outAbout"></div>
              </div>

              <div id="routeModal" class="routeModal">
                  <div class="theRoute-content" id="theRoute">
                    <span class="close" id="closeMap" onclick="spanClose('routeModal');">&times;</span>
                    <div id="theRoute">
                      <img src="images/DIAGRAM_SIMPLE_LANDSCAPE_v6.png" width="1280px" height="420px">
                    </div>
                  </div>
              </div>

              <div id="newsModal" class="newsModal">
                <div class="news-content" id="outNews"></div>
              </div>

            </div>
          </div>

    	  </div><!-- end row -->
    	</section><!-- end content area -->

          <section id="columnsdemo" style="width:100%" class="clearfix">
          <div class="grid_12">
            <div id="logo">
              <a href="#" style="outline:none;"><img src="images/logonameAlt_01.png" /></a>
              <a href="http://www.lorem.com/en/tabid/173/Default.aspx" target="_blank" style="outline:none;"><img src="images/logonameAlt_02.png" style="outline:none;" /></a>
              <a href="#" style="outline:none;"><img src="images/logonameAlt_03.png" /></a>
            </div>

          </div>
          </section>

          <section id="content" class="wide-content">
          <div class="row">
            <div class="grid_12">

    <!-- <img src="images/BottomBanner.png" usemap="#logosbottom"/> -->
              <div id="logosbottomid">
                <a href="#"style="outline:none;cursor: default;"><img src="images/BottomBannerAltV5_01.png" /></a>
                <a href="#" style="outline:none;cursor: default;"><img src="images/BottomBannerAltV5_02.png" /></a>
                <a href="#" id="News" onclick="toggle_visibilityNews('newsModal');" style="outline:none;"><img src="images/BottomBannerAltV5_03.png" /></a>
                <a href="#" id="theRouteBtn" onclick="toggle_visibilityRoute('routeModal');" style="outline:none;"><img src="images/BottomBannerAltV5_04.png" /></a>
                <a href="#" id="aboutBtn" onclick="toggle_visibility('aboutModal');" style="outline:none;"><img src="images/BottomBannerAltV5_05.png" /></a>
                <a href="#" id="myBtn" onclick="toggle_visibility('myModal');" style="outline:none;"><img src="images/BottomBannerAltV5_06.png" /></a>
             </div>
           </div>
          </div>
          </section>
        </div>
    <!-- fire ups - read this file!  -->
  </body>
  <script>
// menu
function spanClose(id){
  var e = document.getElementById(id);
  e.style.display = 'none';
}

var routeModal = document.getElementById("routeModal");
var contactModal = document.getElementById("myModal");
var aboutModal = document.getElementById("aboutModal");
var newsModal = document.getElementById("newsModal");
var coverMain = document.getElementsByClassName("cover");
// var coverOff = document.getElementByClassName("cover");

function toggle_visibility(id) {
   var e = document.getElementById(id);
   if(e.style.display == 'block')
      e.style.display = 'none';
   else
      e.style.display = 'block';
      routeModal.style.display = 'none';
      newsModal.style.display = 'none';
      // coverMain.style.display = 'none !important';
}

function toggle_visibilityRoute(id) {
  var e = document.getElementById(id);
  if(e.style.display == 'block')
     e.style.display = 'none';
  else
     e.style.display = 'block';
     contactModal.style.display = 'none';
     aboutModal.style.display = 'none';
     newsModal.style.display = 'none';
    //  coverMain.style.display = 'none !important';

}

function toggle_visibilityNews(id) {
  var e = document.getElementById(id);
  if(e.style.display == 'block')
     e.style.display = 'none';
  else
     e.style.display = 'block';
     contactModal.style.display = 'none';
     aboutModal.style.display = 'none';
     routeModal.style.display = 'none';
    //  coverMain.style.display = 'none !important';

}

// $("#News" || "#theRouteBtn" || "#aboutBtn" || "#myBtn").click(
$("#News").click(
  function (e) {
    $('.cover').toggleClass('coverHide')
  }
)
$("#theRouteBtn").click(
  function (e) {
    $('.cover').toggleClass('coverHide')
  }
)
$("#aboutBtn").click(
  function (e) {
    $('.cover').toggleClass('coverHide')
  }
)
$("#myBtn").click(
  function (e) {
    $('.cover').toggleClass('coverHide')
  }
)
$(".close").click(
  function (e) {
    $('.cover').toggleClass('coverHide')
  }
)
// end menu

// js hover splash
console.log(newsModal.style.display)
if (
  newsModal.style.display == 'none' &&
  contactModal.style.display == 'none' &&
  aboutModal.style.display == 'none' &&
  routeModal.style.display == 'none'
) {
  $(".vdvd").mouseover(function(){
    $(".cover").fadeIn();
  });
  $(".vdvd").mouseleave(function(){
    $(".cover").fadeOut();
  });
}

// end hover splash

  var qtMsg = document.getElementById("erMsg");
  var ua = navigator.userAgent.toLowerCase();
  console.log(ua)

  // if (ua.indexOf("iphone") != -1) {
  //   console.log(ua.indexOf("mozilla"))
  //   console.log(ua)
  //
  //   loadForIphone = `<style type="text/css">
  //     #video_player { display: none }
  //   </style>
  //   <img src="videoshort/iPhone2.gif" alt="" height="100%" width="100%">`;
  //   qtMsg.innerHTML = loadForIphone;
  // }

  if (ua.indexOf("iphone") !== -1) {
    // console.log(ua.indexOf("iphone"))
    function playVideo(){
       var video = document.getElementById("video_player");
      //  video.setAttribute('webkit-playsinline', 'webkit-playsinline');
       webview.allowsInlinemiddleiaPlayback = true;
       video.play();
    }
    playVideo();
  }

function fallback(video) {
  var img = video.querySelector('img');
  if (img)
    video.parentNode.replaceChild(img, video);
}

// console.log(ua.indexOf('chrome'))
  // -1 - not found
  if (ua.indexOf('safari') !== -1 && ua.indexOf('windows') !== -1 && ua.indexOf('chrome') == -1 && ua.indexOf('silk') == -1 && ua.indexOf('ipad') == -1 && ua.indexOf('mobile') == -1) {
    if (pluginlist.indexOf("QuickTime") == -1) {
      var er = '<a id="errorMsg" href="https://www.apple.com/ru/quicktime/" target="_blank" style="margin: 25% 25%">You cannot see the video because you do not have QuickTime installed!</a></br><a id="errorMsg" href="https://support.apple.com/kb/DL837?locale=en_US" target="_blank" style="margin: 15% 30%">Click here to download QuickTime for Windows!</a>';
      qtMsg.innerHTML = er;
    }
  }

  </script>

  <!-- =================================================================== -->

  <script type="text/javascript">

  var ua = navigator.userAgent.toLowerCase();
  function windowsPhone(data) {
    var iemobile;
    if (ua.indexOf("lumia") !== -1 || ua.indexOf("iemobile") !== -1) {
      console.log('windows mobile')
      iemobile = data;
      iemobile = iemobile + '<source src="videoshort/home.mp4" type="video/mp4" />';
      iemobile = iemobile + '<object type="application/x-shockwave-flash"';
      iemobile = iemobile + 'data="swf/flowplayer-3.2.18.swf" width="100" height="auto">';
      iemobile = iemobile + '<param name="movie" value="swf/flowplayer-3.2.18.swf" />';
      iemobile = iemobile + '<param name="allowFullscreen" value="true" />';
      iemobile = iemobile + '<param name="wmode" value="transparent" />';
      iemobile = iemobile + '<param name="flashVars"';
      // iemobile = iemobile + value="config={'playlist':['..%2Fimages%2Fdemo.jpg',{'url':'..%2Fvideoshort%2Fhome%2Fhome.mp4','autoPlay':true}]}" />;
      // iemobile = iemobile + '<img src="images/demo.jpg" width="100%" height="auto" title="No Flash found" />';
      iemobile = iemobile + '</object>';
    } else {
      iemobile = data;
    }
    return iemobile;
  }

    var imageAddr = "http://www.londonscr.co.uk/images/logoname.png";
    var downloadSize = 39443; //bytes

    function ShowProgressMessage(msg) {
      if (console) {
          if (typeof msg == "string") {
              console.log('You index download speed: ', msg);
          } else {
              for (var i = 0; i < msg.length; i++) {
                  console.log('You index download speed: ', msg[i]);
              }
          }
      }

      var oProgress = document.getElementById("video_player");
      var speedForHQ = 0.9; // speed in Mbps
      var speedForMQ = 0.5;
      var curSpeed = Number(msg[0]);
      if (oProgress) {

        var actualHTML;
        if (curSpeed > speedForHQ) {
           // video HQ
          actualHTML = '<img src="videolong/HQ.gif"><source src="videolong/HQ.mp4" type="video/mp4"><source src="videolong/HQ.mp4" type="video/mp4 codecs=H.264, libx264, avc1.4D401E, mp4a.40.2" preload="metadata" onerror="fallback(parentNode)"><source src="videolong/HQ.mp4" type="video/mp4" preload="metadata" onerror="fallback(parentNode)"><source src="videolong/HQ.ogg" type="video/ogg codecs=theora, vorbis" preload="metadata"><source src="videolong/HQ.webm" type="video/webm codecs=codecs=vp8, vorbis" preload="metadata" onerror="fallback(parentNode)"><source src="videolong/HQ.mov" type="video/quicktime" preload="metadata"><source src="videolong/HQ.mov" type="video/mov" preload="metadata">Your browser doesnt support the HTML5 video element.';
          actualHTML = windowsPhone(actualHTML);
        } else {
          if (curSpeed > speedForMQ) {
             // video MQ
            actualHTML = '<img src="videomiddle/MQ.gif"><source src="videomiddle/MQ.mp4" type="video/mp4"><source src="videomiddle/MQ.mp4" type="video/mp4 codecs=H.264, libx264, avc1.4D401E, mp4a.40.2" preload="metadata" onerror="fallback(parentNode)"><source src="videomiddle/MQ.mp4" type="video/mp4" preload="metadata"><source src="videomiddle/MQ.ogg" type="video/ogg codecs=theora, vorbis" preload="metadata" onerror="fallback(parentNode)"><source src="videomiddle/MQ.webm" type="video/webm codecs=codecs=vp8, vorbis" preload="metadata" onerror="fallback(parentNode)"><source src="videomiddle/MQ.mov" type="video/quicktime" preload="metadata"><source src="videomiddle/MQ.mov" type="video/mov" preload="metadata">Your browser doesnt support the HTML5 video element.';
          } else {
             // video LQ
            actualHTML = '<img src="videoshort/LQ.gif"><source src="videoshort/LQ.mp4" type="video/mp4"><source src="videoshort/LQ.mp4" type="video/mp4 caodecs=H.264, libx264, avc1.4D401E, mp4a.40.2" preload="metadata" onerror="fallback(parentNode)"><source src="videoshort/LQ.mp4" type="video/mp4" preload="metadata"><source src="videoshort/LQ.ogg" type="video/ogg codecs=theora, vorbis" preload="metadata" onerror="fallback(parentNode)"><source src="videoshort/LQ.webm" type="video/webm codecs=codecs=vp8, vorbis" preload="metadata" onerror="fallback(parentNode)"><source src="videoshort/LQ.mov" type="video/quicktime" preload="metadata"><source src="videoshort/LQ.mov" type="video/mov" preload="metadata">Your browser doesnt support the HTML5 video element.';
            actualHTML = windowsPhone(actualHTML);
          }
        }
          // var actualHTML = (typeof msg == "string") ? msg : msg.join("<br />");
          oProgress.innerHTML = actualHTML;
      }
    }

    function InitiateSpeedDetection() {
      // ShowProgressMessage("Loading the video, please wait...");
      window.setTimeout(MeasureConnectionSpeed, 1);
    };

    if (window.addEventListener) {
      window.addEventListener('load', InitiateSpeedDetection, false);
    } else if (window.attachEvent) {
      window.attachEvent('onload', InitiateSpeedDetection);
    }

    function MeasureConnectionSpeed() {
      var startTime, endTime;
      var download = new Image();
      download.onload = function () {
          endTime = (new Date()).getTime();
          showResults();
      }

      download.onerror = function (err, msg) {
          ShowProgressMessage("error downloading video");
      }

      startTime = (new Date()).getTime();
      var cacheBuster = "?nnn=" + startTime;
      download.src = imageAddr + cacheBuster;

      function showResults() {
          var duration = (endTime - startTime) / 1000;
          var bitsLoaded = downloadSize * 8;
          var speedBps = (bitsLoaded / duration).toFixed(2);
          var speedKbps = (speedBps / 1024).toFixed(2);
          var speedMbps = (speedKbps / 1024).toFixed(2);
          ShowProgressMessage([
              speedMbps
          ]);
          return speedMbps;
      }
    }
  </script>


  <!-- =================================================================== -->

  <script src="about0-9.js"></script>
  <script src="news0-3.js"></script>
  <script src="js/main.js"></script>
  <?php include_once "js/gdform.php"; ?>

</html>
